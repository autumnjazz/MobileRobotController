package sensorpackage;

import basic.Point;
import mappackage.RealMap;
import repositorypackage.Repository;

public class ColorBlobSensor extends Sensor{
	PositionSensor ps;
	RealMap rm;

	public ColorBlobSensor(RealMap rm) {
		this.rm = rm;
	}
	
	public Point location(int idx) {
		Point current = ps.location();
		switch(idx) {
		case 0: //up
			current.changePoint(1, 0);
			break;
		case 1: //down
			current.changePoint(-1, 0);
			break;
		case 2: //left
			current.changePoint(0, -1);
			break;
		case 3: //right
			current.changePoint(0, 1);
			break;
		default:
			break;
		}
		return current;
	}

	public boolean checksensor() {
		boolean[] result = {false, false, false, false};
		for(int i = 0; i<4; i++) {
			Point p = location(i);
			result[i] = (rm.board[p.getx()][p.gety()].getCharacter() == 'C');
		}
		return result;
	}
	
	public boolean[] checkallsensor() {
		boolean[] result = {false, false, false, false};
		for(int i = 0; i<4; i++) {
			Point p = location(i);
			result[i] = (rm.board[p.getx()][p.gety()].getCharacter() == 'C');
		}
		return result;
	}

}
